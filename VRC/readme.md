# VRC(Voice Realtime Conversion)
## 概要
 このプログラムは話者Aの声質を話者Bの声質に変換するプログラムです。
変換にCycleGANの技術を用いています。
 
 そして、以下のような特徴があります。

### 高速
CPUでのリアルタイム推論実行が可能
学習以外はCPUで動くように設計されています。 
### 安定
誰でも学習できるように安定的なパラメータを設定

### 少データ
規定の文章であれば10分の録音で足りる

## インストール（環境構築）
以下のライブラリをインストールしてください。

- tensorflow(1.9.0)
- numpy(1.14.2)
- pyaudio(0.2.11)
- matplotlib(2.1.2)
- pyworld(0.2.8)

基本的にpipで入りますが、

pyaudioは関連ライブラリが必要である場合があります。

pyworldに関してはC++のビルドツールが必要です。


##学習の実施方法
"setting.json"ファイルで学習の設定が行なえます。
デフォルトの状態であれば、以下の手順で音声ファイルを用意します。

"datasets"ディレクトリを用意して、以下に"source","test","train"を用意してください。

サンプリングレート16000の音声ファイル(台本.txtの読み上げを推奨します)
を"datasets/source/A/"と"datasets/source/B/"に話者ごとに分けて入れてください。

話者Aのサンプリングレート16000で10秒程度のテスト用ファイルを用意して、
"test.wav"を"test"ディレクトリ以下に保存してください。

ここまでできたら、"VRC"の親ディレクトリに戻り以下のコマンドを実行してください。

$ python3 VRC --training_auto

あとは出力フォルダの音声を聞いて満足したら止めてください。
1000epoch終わっても満足できない場合は

$ python3 VRC --train

で追い学習をするか、音声データを増やしてやり直してください。

ちなみにデータは量より質です。
大量に偏ったデータを読み込ませると学習に時間がかかるだけでなく性能が低下する場合もあります。

## 使い方
python3 VRC \[command\] 
 
\[command\]
 
--training_auto データセットを作り学習を行います。(要GPU)
 
--create_dataset データセットの作成を行います。（要GPU）
 
--train 学習を行います。（要GPU）先にデータセットの作成を行ってください。
 
--run   リアルタイム実行します。先に学習を済ませておいてください。
 
--test  学習済みモデルを用いてテストを行います。



##ライセンス
MIT
